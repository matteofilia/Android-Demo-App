matrix:
  include: 
    - language: android
      android:
        components:
          - tools
          - tools
          - platform-tools
          - build-tools-27.0.3
          - android-27
          - extra
      before_script:
        - cd Application
        - yes | sdkmanager "platforms;android-27"
        - yes | sdkmanager "platforms;android-28"
        - echo no | android create avd --force -n test -t android-22 --abi armeabi-v7a -c 100M
        - emulator -avd test -no-audio -no-window &
        - android-wait-for-emulator
        - adb shell input keyevent 82 &
      script:
	- ./gradlew test
        - ./gradlew build connectedAndroidTest

    - language: node_js
      node_js:
        - "7"
      before_script:
        - cd "RESTful API Server"
        - npm install

notifications:
  email:
    - matteo@matteofilia.com
